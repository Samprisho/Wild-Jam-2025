[gd_scene load_steps=11 format=3 uid="uid://dr64bo2d36v0n"]

[ext_resource type="Script" uid="uid://biykxsftwgexj" path="res://scripts/coon.gd" id="1_bhtm4"]
[ext_resource type="Script" uid="uid://couw105c3bde4" path="res://addons/godot_state_charts/state_chart.gd" id="2_gvuuu"]
[ext_resource type="Script" uid="uid://jk2jm1g6q853" path="res://addons/godot_state_charts/compound_state.gd" id="3_rowf5"]
[ext_resource type="Script" uid="uid://cytafq8i1y8qm" path="res://addons/godot_state_charts/atomic_state.gd" id="4_nu555"]
[ext_resource type="Script" uid="uid://cf1nsco3w0mf6" path="res://addons/godot_state_charts/transition.gd" id="5_t5b5t"]
[ext_resource type="Script" uid="uid://bbi77rt2a4od5" path="res://scripts/CoonMovement.gd" id="6_bhtm4"]
[ext_resource type="Script" uid="uid://b4dwolbvt8our" path="res://addons/godot_state_charts/history_state.gd" id="6_lecfq"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ku830"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_0fj4n"]

[sub_resource type="SphereShape3D" id="SphereShape3D_lecfq"]

[node name="CharacterBody3D" type="CharacterBody3D"]
script = ExtResource("1_bhtm4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_ku830")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_0fj4n")

[node name="StateChart" type="Node" parent="."]
script = ExtResource("2_gvuuu")
metadata/_custom_type_script = "uid://couw105c3bde4"

[node name="Root" type="Node" parent="StateChart"]
script = ExtResource("3_rowf5")
initial_state = NodePath("Grounded")

[node name="Grounded" type="Node" parent="StateChart/Root"]
script = ExtResource("4_nu555")

[node name="On Jump" type="Node" parent="StateChart/Root/Grounded"]
script = ExtResource("5_t5b5t")
to = NodePath("../../Airborne")
event = &"jump"
delay_in_seconds = "0.7"

[node name="On Airborne" type="Node" parent="StateChart/Root/Grounded"]
script = ExtResource("5_t5b5t")
to = NodePath("../../Airborne")
event = &"airborne"
delay_in_seconds = "0.0"

[node name="Airborne" type="Node" parent="StateChart/Root"]
script = ExtResource("4_nu555")

[node name="On Grounded" type="Node" parent="StateChart/Root/Airborne"]
script = ExtResource("5_t5b5t")
to = NodePath("../../Grounded")
event = &"grounded"
delay_in_seconds = "0.0"

[node name="Wallrunning" type="Node" parent="StateChart/Root"]
script = ExtResource("4_nu555")

[node name="On Wall Jump" type="Node" parent="StateChart/Root/Wallrunning"]
script = ExtResource("5_t5b5t")
to = NodePath("../../Airborne")
event = &"walljump"
delay_in_seconds = "0.0"

[node name="History" type="Node" parent="StateChart/Root"]
script = ExtResource("6_lecfq")
default_state = NodePath("../Grounded")

[node name="CoonMovementComponent" type="Node" parent="." node_paths=PackedStringArray("body")]
script = ExtResource("6_bhtm4")
body = NodePath("..")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(0.990447, 0, 0.137894, -0.028971, 0.977681, 0.208089, -0.134816, -0.210096, 0.968341, 0, 1.37294, 0)
shape = SubResource("SphereShape3D_lecfq")
spring_length = 2.635

[node name="Camera3D" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(0.990447, -0.00838941, -0.137639, -4.95175e-09, 0.998148, -0.0608395, 0.137894, 0.0602583, 0.988612, 0, 0, 0)
